!function(t){var i=t.fancybox;i.helpers.thumbs={wrap:null,list:null,width:0,source:function(i){var h=t(i).find("img");return h.length?h.attr("src"):i.href},init:function(h){var s,e=this,n=h.width||50,o=h.height||50,r=h.source||this.source;s="";for(var a=0;a<i.group.length;a++)s+='<li><a style="width:'+n+"px;height:"+o+'px;" href="javascript:$.fancybox.jumpto('+a+');"></a></li>';this.wrap=t('<div id="fancybox-thumbs"></div>').appendTo("body"),this.list=t("<ul>"+s+"</ul>").appendTo(this.wrap),t.each(i.group,function(i){t("<img />").load(function(){var h,s,r,a=this.width,d=this.height;e.list&&a&&d&&(h=a/n,s=d/o,r=e.list.children().eq(i).find("a"),h>=1&&s>=1&&(h>s?(a=Math.floor(a/s),d=o):(a=n,d=Math.floor(d/h))),t(this).css({width:a,height:d,top:Math.floor(o/2-d/2),left:Math.floor(n/2-a/2)}),r.width(n).height(o),t(this).hide().appendTo(r).fadeIn(300))}).attr("src",r(this))}),this.width=this.list.children().eq(0).outerWidth(),this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(.5*t(window).width()-(i.current.index*this.width+.5*this.width)))},update:function(h){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*t(window).width()-(i.current.index*this.width+.5*this.width))},150)},beforeLoad:function(t){return i.group.length<2?void(i.coming.helpers.thumbs=!1):void(i.coming.margin[2]=t.height+30)},afterShow:function(t){this.list?this.update(t):this.init(t),this.list.children().removeClass("active").eq(i.current.index).addClass("active")},onUpdate:function(){this.update()},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);